
<div class="l-stickyBar">

  <div class="l-container t-padding-large t-padding-top">

    <div class="l-container l-container-mobile">
      <h2 *ngIf="title" class="t-type-heading1 t-margin-small t-margin-bottom">{{title}}</h2>
      <p class="t-type-bodyLarge t-color-text3 t-margin-medium t-margin-bottom">
        {{skillCountLabel}}<ng-template [ngIf]="matchingQuery">
          matching <span class="t-type-bodyLargeBold t-color-text1">{{matchingQuery}}</span>
        </ng-template>.
        <ng-template [ngIf]="totalCount > 0">
          Viewing skills {{firstRecordNo}}-{{lastRecordNo}}
        </ng-template>
      </p>

      <app-filter-controls
        [selectedFilters]="selectedFilters"
        (filtersChanged)="handleFiltersChanged($event)"
      ></app-filter-controls>
    </div>

    <div class="t-margin-medium t-margin-bottom">
      <ng-template [appLoadingObservables]="[resultsLoaded]">
        <app-table
          *ngIf="!emptyResults"
          [skills]="results.skills"
          (rowSelected)="handleNewSelection($event)"
          [currentlySortedColumn]="columnSort"
          (columnSorted)="handleHeaderColumnSort($event)"
          [rowActions]="rowActions()"
          (selectAllSelected)="handleSelectAll($event)"
        ></app-table>

        <app-empty-message *ngIf="emptyResults && showSearchEmptyMessage">
          Try changing your search term or using <a routerLink="/search/skills/advanced">Advanced Search</a>.
        </app-empty-message>
        <app-empty-message *ngIf="emptyResults && !showSearchEmptyMessage">
          You have no skills yet in your library.
          Try <a routerLink="/skills/create">Creating a skill</a> or <a href="#">Batch import skills</a>.
        </app-empty-message>
      </ng-template>
    </div>

    <app-pagination
      [currentPage]="currentPageNo"
      [totalPages]="totalPageCount"
      (pageClicked)="handlePageClicked($event)"
    ></app-pagination>

  </div>

  <div *ngIf="actionsVisible()" class="l-stickyBar-x-bar t-padding-medium t-padding-top">
    <div class="l-container l-container-tablet">
      <app-table-action-bar [actions]="tableActions()"></app-table-action-bar>
    </div>
  </div>

</div>


